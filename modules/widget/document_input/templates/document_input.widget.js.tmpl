Widget.types.document_input = {
	prepare: function() {
		var _this = this;
		var optgroup = jQuery('<optgroup/>');
		var option = jQuery('<option/>');
		var document_categories = this.getDocuments();
		jQuery.each(document_categories, function(optgroup_label, documents) {
			optgroup.clone().attr('label', optgroup_label).appendTo(_this._element);
			jQuery.each(documents, function(id, name) {
				option.clone().val(id).text(name).appendTo(optgroup);
			});
		});
	}
};